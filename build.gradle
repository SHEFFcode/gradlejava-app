plugins {
  id 'java'
}

project.group = 'com.sheffmachine'
project.version = '0.0.1-SNAPSHOT'

repositories {
  // repositories delegate context
  // same as delegate.maven()
  maven { url "http://central.maven.org/maven2/" }
}

dependencies {
  implementation 'org.apache.commons:commons-math3:3.6.1'
  testImplementation 'junit:junit:4.12'
}

jar {
  baseName = "$project.name-all"
  println ">>>>>> basename: $baseName"

  manifest {
    attributes  'Implementation-Title': 'Gradle all inclusive jar',
                'Implementation-Version': "$project.version",
                'Created-By': 'sheffmachine',
                'Main-Class': 'com.denofprogramming.random.App'
  }

  from {
    project.configurations.runtimeClasspath.collect {File file -> project.zipTree(file)}
  }

  println ">>>>>>>>> basename: $baseName"
  println ">>>>>>>>> manifest.attributes: $manifest.attributes"
}